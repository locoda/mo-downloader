{
  "match": 0,
  "info": "mo\u4e0b\u8f7d\u5668",
  "regex": "m.tribe-m.jp@@m.ex-m.jp@@m.ldh-m.jp@@m.ldhgirls-m.jp",
  "runat": 0,
  "version": "0.35",
  "author": "\u4e59\u919a",
  "name": "mo\u4e0b\u8f7d\u5668",
  "code": "Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgbW8gKExESCkg5LiL6L295ZmoCi8vIEBuYW1lc3BhY2UgICAgICAgICAgIGh0dHBzOi8vMW1ldGhlci5tZS8KLy8gQHZlcnNpb24gICAgICAgICAgICAgMC4zNQovLyBAZGVzY3JpcHRpb24gICAgICAgICDlnKhtb+eahOWGheWuuemhteWinuWKoOWbvueJh+WSjOinhumikeS4i+i9veeahOaMiemSru+8jCDop6PplIHlj7PplK7lip/og70KLy8gQGF1dGhvciAgICAgICAgICAgICAg5LmZ6YaaKEBsb2NvZGEpCi8vIEBtYXRjaCAgICAgICAgICAgICAgIGh0dHAqOi8vbS50cmliZS1tLmpwLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAgaHR0cCo6Ly9tLmV4LW0uanAvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICBodHRwKjovL20ubGRoLW0uanAvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICBodHRwKjovL20ubGRoZ2lybHMtbS5qcC8qCi8vIEBpY29uICAgICAgICAgICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPWxkaC5jby5qcAovLyBAc291cmNlICAgICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbG9jb2RhL21vLWRvd25sb2FkZXIKLy8gQGxpY2Vuc2UgICAgICAgICAgICAgTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uICgpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIC8vID09PT09PT09PT09PT09PT0KICAgIC8vID0gICAgQ29uc3RzICAgID0KICAgIC8vID09PT09PT09PT09PT09PT0KCiAgICBjb25zdCBpc01vYmlsZSA9ICgpID0+CiAgICAgICAgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KAogICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50CiAgICAgICAgKTsKCiAgICBjb25zdCBrZXl3b3JkcyA9IFsidXBsY21uIiwgInVwbG9hZCJdOwoKICAgIC8vID09PT09PT09PT09PT09CiAgICAvLyA9ICAgIE1haW4gICAgPQogICAgLy8gPT09PT09PT09PT09PT0KCiAgICAvLyDliKDpmaTlm77niYfkv53miqQKICAgIHJlbW92ZVByb3RlY3RJbWcoKTsKICAgIC8vIOWcqOivpuaDhemhteazqOWFpeaMiemSrgogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJkZXRhaWwiKSkgewogICAgICAgIGluamVjdERvd25sb2FkQWxsQnV0dG9ucygpOwogICAgfQogICAgLy8g5qC55o2u6KeG6aKR5rOo5YWl5oyJ6ZKuCiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoIm1vdmllIikpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2LmxpbWVsaWdodC1wbGF5ZXIiKSkgewogICAgICAgICAgICBpbmplY3RQZXJWaWRlb0Rvd25sb2FkQnV0dG9uKGRvY3VtZW50KTsKICAgICAgICB9CiAgICB9CiAgICAvLyDlnKjml7bpl7TovbTnlYzpnaLorr7nva5MaXN0ZW5lcgogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJ0aW1lbGluZSIpKSB7CiAgICAgICAgLy8g562J5b6F5Yqg6L29c2Nyb2xsCiAgICAgICAgKGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgICAgIHZhciBjb3VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGRoLWluZmluaXRlLXNjcm9sbCIpOwogICAgICAgICAgICBpZiAoY291bnRlcikgewogICAgICAgICAgICAgICAgLy8g6K6+572u5oyJ6ZKu5ZKM55uR5ZCsCiAgICAgICAgICAgICAgICBjdXN0b21pemVkVGltZWxpbmVQYWdlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGluaXQsIDMwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpOwogICAgfQogICAgLy8gQeWGmemhtemdouazqOWFpeaMiemSrgogICAgaWYgKAogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJhcnRpc3RwaG90byIpIHx8CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoImFydGlzdF9waG90byIpCiAgICApIHsKICAgICAgICBpbmplY3RBcnRpc3RQaG90b0Rvd25sb2FkQnV0dG9uKCk7CiAgICB9CiAgICAvLyBPZmZzaG906aG16Z2i5rOo5YWl5oyJ6ZKuCiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoImxkaF9vZmZfc2hvdCIpKSB7CiAgICAgICAgaW5qZWN0T2Zmc2hvdERvd25sb2FkQnV0dG9uKCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09CiAgICAvLyA9ICAgIFV0aWxzICAgID0KICAgIC8vID09PT09PT09PT09PT09PQoKICAgIGZ1bmN0aW9uIHJlbW92ZVByb3RlY3RJbWcoKSB7CiAgICAgICAgLy8g56e76Zmk5Y+z6ZSu6ZmQ5Yi2CiAgICAgICAgZG9jdW1lbnQub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgICAvLyDnp7vpmaRwcm90ZWN0aW1n6ZmQ5Yi2CiAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoIi5wcm90ZWN0aW1nIikKICAgICAgICAgICAgLmZvckVhY2goKG5vZGUpID0+IG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgicHJvdGVjdGltZyIpKTsKICAgICAgICBtb0Rvd25sb2FkZXJMb2coIuenu+mZpOWPs+mUrumZkOWItiIpOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyA9ICAgIEJ1dHRvbiBJbmplY3Rpb24gVXRpbHMgICAgPQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiAgICBmdW5jdGlvbiBpbmplY3REb3dubG9hZEFsbEJ1dHRvbnMoKSB7CiAgICAgICAgdmFyIGFydGljbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJhcnRpY2xlIik7CiAgICAgICAgaWYgKGFydGljbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCJhcnRpY2xlLS1uZXdzIikpIHsKICAgICAgICAgICAgLy8g5paw6Ze76aG16Z2i54m55q6K5aSE55CGCiAgICAgICAgICAgIGFydGljbGUgPSBhcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoIi5hcnRpY2xlX19ib2R5Iik7CiAgICAgICAgfQogICAgICAgIGF0dGFjaEJ1dHRvblRvQXJ0aWNsZShhcnRpY2xlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5kRWxpZ2libGVJbWdzRnJvbUFydGljbGUoYXJ0aWNsZSkgewogICAgICAgIHJldHVybiBBcnJheS5mcm9tKGFydGljbGUucXVlcnlTZWxlY3RvckFsbCgiaW1nIikpCiAgICAgICAgICAgIC5tYXAoKGltZykgPT4gaW1nLnNyYykKICAgICAgICAgICAgLmZpbHRlcigoaW1nKSA9PiBrZXl3b3Jkcy5zb21lKChrKSA9PiBpbWcuaW5jbHVkZXMoaykpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhdHRhY2hCdXR0b25Ub0FydGljbGUoYXJ0aWNsZSkgewogICAgICAgIHZhciBpbWdzID0gZmluZEVsaWdpYmxlSW1nc0Zyb21BcnRpY2xlKGFydGljbGUpOwogICAgICAgIC8vIOazqOWFpeaMiemSriBkaXYKICAgICAgICB2YXIgYnV0dG9uc0RpdiA9IGdldEJ1dHRvbkRpdigpOwogICAgICAgIGFydGljbGUuaW5zZXJ0QmVmb3JlKGJ1dHRvbnNEaXYsIGFydGljbGUuZmlyc3RDaGlsZCk7CiAgICAgICAgLy8g5Zu+54mH6ZO+5o6l55Sf5oiQ5oyJ6ZKuCiAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHsKICAgICAgICAgICAgaW5qZWN0T25lQnV0dG9uKAogICAgICAgICAgICAgICAgYnV0dG9uc0RpdiwKICAgICAgICAgICAgICAgICLnlJ/miJDlm77niYfpk77mjqUoIiArIGltZ3MubGVuZ3RoICsgIikiLAogICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlT25DbGlja0hhbmRsZXIoYnV0dG9uc0RpdiwgaW1ncyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5Zu+54mH5LiL6L295oyJ6ZKuCiAgICAgICAgICAgIGluamVjdE9uZUJ1dHRvbigKICAgICAgICAgICAgICAgIGJ1dHRvbnNEaXYsCiAgICAgICAgICAgICAgICAi5LiL6L295omA5pyJ5Zu+54mHICgiICsgaW1ncy5sZW5ndGggKyAiKSIsCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRJbWFnZXMoZmluZEVsaWdpYmxlSW1nc0Zyb21BcnRpY2xlKGFydGljbGUpLCBnZXRQcmVmaXhGcm9tQXJ0aWNsZShhcnRpY2xlKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIC8vIOinhumikeS4i+i9veaMiemSrgogICAgICAgIGlmICgKICAgICAgICAgICAgYXJ0aWNsZS5xdWVyeVNlbGVjdG9yKCJkaXYubGltZWxpZ2h0LXBsYXllciIpIHx8CiAgICAgICAgICAgIGFydGljbGUucXVlcnlTZWxlY3RvcigiYS5wb3B1cF9saW5rIikKICAgICAgICApIHsKICAgICAgICAgICAgLy8gTGlzdCBWaWV3IOinhumikQogICAgICAgICAgICBpbmplY3RQZXJWaWRlb0Rvd25sb2FkQnV0dG9uKGFydGljbGUpOwogICAgICAgICAgICAvLyBUaW1lbGluZSDop4bpopEKICAgICAgICAgICAgaW5qZWN0UGVyVmlkZW9Eb3dubG9hZEJ1dHRvbkZvclRpbWVsaW5lKGFydGljbGUpOwogICAgICAgIH0KICAgICAgICBtb0Rvd25sb2FkZXJMb2coIuazqOWFpeaMiemSriIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGluamVjdFBlclZpZGVvRG93bmxvYWRCdXR0b24oZGl2KSB7CiAgICAgICAgZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoImRpdi5saW1lbGlnaHQtcGxheWVyIikuZm9yRWFjaCgodmlkZW9EaXYpID0+IHsKICAgICAgICAgICAgdmFyIG1lZGlhSWQgPSB2aWRlb0Rpdi5pZC5zdWJzdHJpbmcodmlkZW9EaXYuaWQubGFzdEluZGV4T2YoIl8iKSArIDEpOwogICAgICAgICAgICBtb0Rvd25sb2FkZXJEZWJ1Zygi5q2j5Zyo5LiL6L296KeG6aKR77yaICIgKyBtZWRpYUlkKTsKICAgICAgICAgICAgaW5qZWN0T25lQnV0dG9uKHZpZGVvRGl2LnBhcmVudEVsZW1lbnQsICLkuIvovb3op4bpopEiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGRvd25sb2FkVmlkZW8oZXZlbnQudGFyZ2V0LCBtZWRpYUlkLCBnZXRQcmVmaXhGcm9tQXJ0aWNsZShkaXYpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5qZWN0QXJ0aXN0UGhvdG9Eb3dubG9hZEJ1dHRvbigpIHsKICAgICAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY21zLWlubmVyIik7CiAgICAgICAgdmFyIHRpdGxlLCBpbWdzOwogICAgICAgIGlmIChpbm5lcikgewogICAgICAgICAgICAvLyBOZXcgUGFnZQogICAgICAgICAgICB0aXRsZSA9IGlubmVyLnF1ZXJ5U2VsZWN0b3IoIi5jbXMtc2VjdGlvbl9faW5uZXJfX29uZS1jb2wiKTsKICAgICAgICAgICAgaW1ncyA9IEFycmF5LmZyb20oaW5uZXIucXVlcnlTZWxlY3RvckFsbCgibGRoLWNtcy1pbWcgaW1nIikpLm1hcCgKICAgICAgICAgICAgICAgIChpbWcpID0+IGltZy5zcmMKICAgICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBMZWdhY3kgUGFnZQogICAgICAgICAgICBpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5pbm5lciIpOwogICAgICAgICAgICB0aXRsZSA9IGlubmVyLnF1ZXJ5U2VsZWN0b3IoInNlY3Rpb24iKTsKICAgICAgICAgICAgaW1ncyA9IEFycmF5LmZyb20oaW5uZXIucXVlcnlTZWxlY3RvckFsbCgiaW1nIikpLm1hcCgoaW1nKSA9PiBpbWcuc3JjKTsKICAgICAgICB9CiAgICAgICAgdmFyIGJ1dHRvbnNEaXYgPSBnZXRCdXR0b25EaXYoKTsKICAgICAgICB0aXRsZS5hcHBlbmQoYnV0dG9uc0Rpdik7CiAgICAgICAgaWYgKCFpc01vYmlsZSgpKSB7CiAgICAgICAgICAgIGluamVjdE9uZUJ1dHRvbigKICAgICAgICAgICAgICAgIGJ1dHRvbnNEaXYsCiAgICAgICAgICAgICAgICAi5LiL6L295omA5pyJ5Zu+54mHICgiICsgaW1ncy5sZW5ndGggKyAiKSIsCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRJbWFnZXMoaW1ncywgZ2V0UHJlZml4RnJvbURvY3VtZW50KCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluamVjdE9uZUJ1dHRvbigKICAgICAgICAgICAgICAgIGJ1dHRvbnNEaXYsCiAgICAgICAgICAgICAgICAi55Sf5oiQ5Zu+54mH6ZO+5o6lKCIgKyBpbWdzLmxlbmd0aCArICIpIiwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU9uQ2xpY2tIYW5kbGVyKGJ1dHRvbnNEaXYsIGltZ3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbmplY3RPZmZzaG90RG93bmxvYWRCdXR0b24oKSB7CiAgICAgICAgdmFyIGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlubmVyIik7CiAgICAgICAgdmFyIGRpdnMgPSBBcnJheS5mcm9tKGlubmVyLnF1ZXJ5U2VsZWN0b3JBbGwoImRpdltpZF49J2pzLWdhbGxlcnknXSIpKTsKICAgICAgICBkaXZzLm1hcCgoZGl2KSA9PiB7CiAgICAgICAgICAgIHZhciBidXR0b25zRGl2ID0gZ2V0QnV0dG9uRGl2KCk7CiAgICAgICAgICAgIGRpdi5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbnNEaXYpOwogICAgICAgICAgICB2YXIgaW1ncyA9IEFycmF5LmZyb20oZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoImEiKSkubWFwKAogICAgICAgICAgICAgICAgKGEpID0+IG5ldyBVUkwoYS5ocmVmLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5ocmVmCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmICghaXNNb2JpbGUoKSkgewogICAgICAgICAgICAgICAgaW5qZWN0T25lQnV0dG9uKAogICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNEaXYsCiAgICAgICAgICAgICAgICAgICAgIuS4i+i9veWbvueJhyAoIiArIGltZ3MubGVuZ3RoICsgIikiLAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRJbWFnZXMoaW1ncywgZ2V0UHJlZml4RnJvbURvY3VtZW50KCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmplY3RQZXJWaWRlb0Rvd25sb2FkQnV0dG9uRm9yVGltZWxpbmUoZGl2KSB7CiAgICAgICAgZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoImEucG9wdXBfbGluayIpLmZvckVhY2goKHZpZGVvRGl2KSA9PiB7CiAgICAgICAgICAgIHZhciBtZWRpYUlkID0gdmlkZW9EaXYKICAgICAgICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoIm9uY2xpY2siKQogICAgICAgICAgICAgICAgLnNwbGl0KCJtb3ZpZS8iKVsxXQogICAgICAgICAgICAgICAgLnNwbGl0KCIvIilbMF07CiAgICAgICAgICAgIG1vRG93bmxvYWRlckRlYnVnKCLmraPlnKjkuIvovb3op4bpopHvvJogIiArIG1lZGlhSWQpOwogICAgICAgICAgICBpbmplY3RPbmVCdXR0b24odmlkZW9EaXYucGFyZW50RWxlbWVudCwgIuS4i+i9veinhumikSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgZG93bmxvYWRWaWRlbyhldmVudC50YXJnZXQsIG1lZGlhSWQsIGdldFByZWZpeEZyb21BcnRpY2xlKGRpdikpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbmplY3RPbmVCdXR0b24oCiAgICAgICAgZWxlbWVudCwKICAgICAgICB0ZXh0T25CdXR0b24sCiAgICAgICAgY2xpY2tMaXN0ZW5lciwKICAgICAgICBleHRyYVN0eWxlID0gIiIKICAgICkgewogICAgICAgIHZhciBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJCVVRUT04iKTsKICAgICAgICB2YXIgYnRuVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHRPbkJ1dHRvbik7CiAgICAgICAgYnRuLmFwcGVuZENoaWxkKGJ0blRleHQpOwogICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGNsaWNrTGlzdGVuZXIpOwogICAgICAgIGJ0bi5zdHlsZSA9CiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyOiBzb2xpZCAjODA4MDgwIDJweDsgYm9yZGVyLXJhZGl1czogMjBweDsgY29sb3I6ICM1NDU0NTQ7IG1hcmdpbjogMC4yZW07IiArCiAgICAgICAgICAgIGV4dHJhU3R5bGU7CiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChidG4pOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJ1dHRvbkRpdigpIHsKICAgICAgICB2YXIgYnV0dG9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGJ1dHRvbnNEaXYuY2xhc3NOYW1lID0gImxkaC1tby1kbCI7CiAgICAgICAgYnV0dG9uc0Rpdi5zdHlsZSA9ICJtYXJnaW4tdG9wOiAwLjRlbTsgbWFyZ2luLWJvdHRvbTogMC40ZW0iOwogICAgICAgIHJldHVybiBidXR0b25zRGl2OwogICAgfQoKICAgIGZ1bmN0aW9uIGdlbmVyYXRlT25DbGlja0hhbmRsZXIoYnV0dG9uc0RpdiwgaW1ncykgewogICAgICAgIHZhciB0ZXh0YXJlYSA9IGJ1dHRvbnNEaXYucXVlcnlTZWxlY3RvcigidGV4dGFyZWEubGRoLW1vLWRsIik7CiAgICAgICAgaWYgKCF0ZXh0YXJlYSkgewogICAgICAgICAgICB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgICAgIHRleHRhcmVhLmNsYXNzTmFtZSA9ICJsZGgtbW8tZGwiOwogICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZSA9ICJoZWlnaHQ6IDEwMHB4OyB3aWR0aDogODAlOyI7CiAgICAgICAgICAgIHZhciBiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgICAgIGJ1dHRvbnNEaXYuaW5zZXJ0QmVmb3JlKGJyLCBidXR0b25zRGl2LmZpcnN0Q2hpbGQpOwogICAgICAgICAgICBidXR0b25zRGl2Lmluc2VydEJlZm9yZSh0ZXh0YXJlYSwgYnV0dG9uc0Rpdi5maXJzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBpbWdzLmpvaW4oIlxuIik7CiAgICAgICAgdGV4dGFyZWEuc2VsZWN0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gY3VzdG9taXplZFRpbWVsaW5lUGFnZSgpIHsKICAgICAgICAvLyDliJ3lp4vljJYKICAgICAgICBkb2N1bWVudAogICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgibGRoLWluZmluaXRlLXNjcm9sbCBhcnRpY2xlIikKICAgICAgICAgICAgLmZvckVhY2goKGFydGljbGUpID0+IGF0dGFjaEJ1dHRvblRvQXJ0aWNsZShhcnRpY2xlKSk7CiAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoImxkaC1pbmZpbml0ZS1zY3JvbGwgbGRoLWltYWdlZGlhcnktdGltZWxpbmUtbGlzdC1pdGVtIikKICAgICAgICAgICAgLmZvckVhY2goKGFydGljbGUpID0+IGF0dGFjaEJ1dHRvblRvQXJ0aWNsZShhcnRpY2xlKSk7CiAgICAgICAgY29uc3QgaW5maW5pdGVTY3JvbGxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKAogICAgICAgICAgICAibGRoLWluZmluaXRlLXNjcm9sbCIKICAgICAgICApOwogICAgICAgIGNvbnN0IGNvbmZpZyA9IHsgY2hpbGRMaXN0OiB0cnVlIH07CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zLCBvYnNlcnZlcikgewogICAgICAgICAgICB2YXIgbm9kZXMgPSBtdXRhdGlvbnMuZmluZCgocikgPT4KICAgICAgICAgICAgICAgIEFycmF5LmZyb20oci5hZGRlZE5vZGVzKS5maWx0ZXIoCiAgICAgICAgICAgICAgICAgICAgKG4pID0+CiAgICAgICAgICAgICAgICAgICAgICAgIG4uY2xhc3NOYW1lID09ICJhcnRpY2xlIiB8fAogICAgICAgICAgICAgICAgICAgICAgICBuLmNsYXNzTmFtZSA9PSAibGRoLWltYWdlZGlhcnktdGltZWxpbmUtbGlzdC1pdGVtIgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApLmFkZGVkTm9kZXM7CiAgICAgICAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+CiAgICAgICAgICAgICAgICBhdHRhY2hCdXR0b25Ub0FydGljbGUoCiAgICAgICAgICAgICAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yKCJhcnRpY2xlIikgfHwKICAgICAgICAgICAgICAgICAgICBub2RlLnF1ZXJ5U2VsZWN0b3IoImxkaC1pbWFnZWRpYXJ5LXRpbWVsaW5lLWxpc3QtaXRlbSIpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJlbW92ZVByb3RlY3RJbWcoKTsKICAgICAgICAgICAgbW9Eb3dubG9hZGVyRGVidWcoIuino+mZpOWIt+aWsOWQjuaXtumXtOe6v+WPs+mUrumZkOWItiIpOwogICAgICAgIH0pOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoaW5maW5pdGVTY3JvbGxDb250YWluZXIsIGNvbmZpZyk7CiAgICAgICAgbW9Eb3dubG9hZGVyTG9nKCJUaW1lbGluZemhtemdouazqOWFpeaMiemSriIpOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gPSAgICBEb3dubG9hZCBVdGlscyAgICA9CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0KCiAgICBmdW5jdGlvbiBkb3dubG9hZEltYWdlcyhpbWdzLCBwcmVmaXggPSAiIikgewogICAgICAgIG1vRG93bmxvYWRlckRlYnVnKCLmraPlnKjkuIvovb3lm77niYfvvJogIiArIGltZ3MpOwogICAgICAgIC8vIFRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20veTI1MjMyOC9JbnN0YWdyYW1fRG93bmxvYWRfQnV0dG9uCiAgICAgICAgaWYgKGltZ3MubGVuZ3RoIDw9IDEwKSB7CiAgICAgICAgICAgIC8vIOWQjOaXtuacgOWkmuS4i+i9veWNgeW8oOWbvgogICAgICAgICAgICBpbWdzLm1hcCgoaW1nKSA9PiBkb3dubG9hZE9uZUltYWdlKGltZywgcHJlZml4KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g6K6+572u5bu25pe25LiL6L295pu05aSa5Zu+54mHIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU2MjQ0OTAyLzU2MjQ1NjEwIzU2MjQ1NjEwCiAgICAgICAgICAgIGltZ3MuZm9yRWFjaCgoaW1nLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRPbmVJbWFnZShpbWcsIHByZWZpeCk7CiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIDIwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBkb3dubG9hZE9uZUltYWdlKGltZywgcHJlZml4ID0gIiIpIHsKICAgICAgICBmZXRjaChpbWcsIHsKICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoewogICAgICAgICAgICAgICAgT3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbW9kZTogImNvcnMiLAogICAgICAgICAgICBjYWNoZTogIm5vLWNhY2hlIiwKICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJsb2IoKSkKICAgICAgICAgICAgLnRoZW4oKGJsb2IpID0+CiAgICAgICAgICAgICAgICBkb3dsb2FkQmxvYigKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSwKICAgICAgICAgICAgICAgICAgICBwcmVmaXggKyBpbWcuc3Vic3RyaW5nKGltZy5sYXN0SW5kZXhPZigiLyIpICsgMSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoZSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRvd25sb2FkVmlkZW8oYnV0dG9uLCB2aWRlbywgcHJlZml4ID0gIiIpIHsKICAgICAgICBjb25zdCB2aWRlb1JlcXVlc3RVUkwgPQogICAgICAgICAgICAiaHR0cHM6Ly9wcm9kdWN0aW9uLXBzLmx2cC5sbG53Lm5ldC9yL1BsYXlsaXN0U2VydmljZS9tZWRpYS88bWVkaWFJZD4vZ2V0TW9iaWxlUGxheWxpc3RCeU1lZGlhSWQiOwogICAgICAgIGZldGNoKHZpZGVvUmVxdWVzdFVSTC5yZXBsYWNlKCI8bWVkaWFJZD4iLCB2aWRlbyksIHsKICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoewogICAgICAgICAgICAgICAgT3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLAogICAgICAgICAgICAgICAgUmVmZXJlcjogd2luZG93LmxvY2F0aW9uLm9yaWdpbiwKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIG1vZGU6ICJjb3JzIiwKICAgICAgICAgICAgY2FjaGU6ICJuby1jYWNoZSIsCiAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgLy8g5Li7bTN1OAogICAgICAgICAgICAgICAgbGV0IG0zdThVcmwgPSByZXNwb25zZS5tZWRpYUxpc3RbMF0ubW9iaWxlVXJscwogICAgICAgICAgICAgICAgICAgIC5maW5kKCh2KSA9PiB2LnRhcmdldE1lZGlhUGxhdGZvcm0gPT0gIkh0dHBMaXZlU3RyZWFtaW5nIikKICAgICAgICAgICAgICAgICAgICAubW9iaWxlVXJsLnJlcGxhY2UoImh0dHA6Ly8iLCAiaHR0cHM6Ly8iKTsKICAgICAgICAgICAgICAgIGZldGNoKG0zdThVcmwpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiOt+WPlm0zdTjkuK3mnIDpq5jmuIXnmoQKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFuZHdpdGhSZSA9IC9CQU5EV0lEVEg9KFxkKykvaTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsaWdpYmxlU3RyZWFtc1JhdyA9IHJlc3BvbnNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoIiNFWFQtWC1TVFJFQU0tSU5GOiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWdpYmxlU3RyZWFtc1Jhdy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGIubWF0Y2goYmFuZHdpdGhSZSlbMV0pIC0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChhLm1hdGNoKGJhbmR3aXRoUmUpWzFdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSBlbGlnaWJsZVN0cmVhbXNSYXdbMF0uc3BsaXQoIlxuIilbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKGNhbmRpZGF0ZSwgbmV3IFVSTChtM3U4VXJsKS5vcmlnaW4pLmhyZWY7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbigobTN1OFVybCkgPT4KICAgICAgICAgICAgICAgICAgICAgICAgb3Blbk0zVThUb29sQm94KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbTN1OFVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCArIGdldEZpbGVuYW1lRnJvbVZpZGVvVXJsKG0zdThVcmwpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkb3dsb2FkQmxvYihibG9iLCBmaWxlbmFtZSkgewogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgICBhLmhyZWYgPSBibG9iOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gb3Blbk0zVThUb29sQm94KGJ1dHRvbiwgbTN1OFVybCwgZmlsZW5hbWUpIHsKICAgICAgICAvLyDmiZPlvIAgaHR0cHM6Ly90b29scy50aGF0d2luZC5jb20vdG9vbC9tM3U4ZG93bmxvYWRlcgogICAgICAgIGlmIChpc01vYmlsZSgpKSB7CiAgICAgICAgICAgIGxldCBpZCA9IGJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKSk7CiAgICAgICAgICAgIHZhciBhID0gYnV0dG9uLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigiYS5tby1kb3dubG9hZGVyIik7CiAgICAgICAgICAgIGlmICghYSkgewogICAgICAgICAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICAgIHZhciBhVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCLngrnlh7vmiZPlvIDkuIvovb3pobXpnaIiKTsKICAgICAgICAgICAgICAgIGEuY2xhc3NOYW1lID0gIm1vLWRvd25sb2FkZXIiOwogICAgICAgICAgICAgICAgYS5hcHBlbmQoYVRleHQpOwogICAgICAgICAgICAgICAgYS50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICAgICAgICAgIGEuaHJlZiA9IGNvbnN0cnVjdE0zVThUb29sQm94VVJMKG0zdThVcmwsIGZpbGVuYW1lKTsKICAgICAgICAgICAgICAgIGJ1dHRvbi5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpOwogICAgICAgICAgICAgICAgYnV0dG9uLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICBhLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgICBhLmhyZWYgPSBjb25zdHJ1Y3RNM1U4VG9vbEJveFVSTChtM3U4VXJsLCBmaWxlbmFtZSk7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgICAgYS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY29uc3RydWN0TTNVOFRvb2xCb3hVUkwobTN1OFVybCwgZmlsZW5hbWUpIHsKICAgICAgICB2YXIgdXJsID0KICAgICAgICAgICAgImh0dHBzOi8vdG9vbHMudGhhdHdpbmQuY29tL3Rvb2wvbTN1OGRvd25sb2FkZXIjIiArCiAgICAgICAgICAgICJtM3U4PSIgKwogICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQobTN1OFVybCkgKwogICAgICAgICAgICAiJnJlZmVyZXI9IiArCiAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikgKwogICAgICAgICAgICAiJmZpbGVuYW1lPSIgKwogICAgICAgICAgICBmaWxlbmFtZTsKICAgICAgICBtb0Rvd25sb2FkZXJEZWJ1Zyh1cmwpOwogICAgICAgIHJldHVybiB1cmw7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gPSAgICBOYW1pbmcgVXRpbHMgICAgPQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PQoKICAgIGZ1bmN0aW9uIGdldFByZWZpeEZyb21BcnRpY2xlKGFydGljbGUpIHsKICAgICAgICB2YXIgY2FuZGlkYXRlID0KICAgICAgICAgICAgYXJ0aWNsZS5xdWVyeVNlbGVjdG9yKCIuYXJ0aWNsZV9faGVhZCIpIHx8CiAgICAgICAgICAgIGFydGljbGUucXVlcnlTZWxlY3RvcigiLmFydGljbGVfX2hlYWRlciIpOwogICAgICAgIGlmIChjYW5kaWRhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplRmlsZU5hbWUoCiAgICAgICAgICAgICAgICBjYW5kaWRhdGUudGV4dENvbnRlbnQKICAgICAgICAgICAgICAgICAgICAuc3BsaXQoL1xzL2cpCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigocykgPT4gcykKICAgICAgICAgICAgICAgICAgICAuam9pbigiXyIpICsgIl8iCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBnZXRQcmVmaXhGcm9tRG9jdW1lbnQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRQcmVmaXhGcm9tRG9jdW1lbnQoKSB7CiAgICAgICAgLy8g5aaC5p6c5a2Y5Zyo77yM5L2/55SobW92aWXmoIfpopgKICAgICAgICB2YXIgY2FuZGlkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm1vdmllLXRpdGxlLWJsb2NrIik7CiAgICAgICAgaWYgKGNhbmRpZGF0ZSkgewogICAgICAgICAgICByZXR1cm4gc2FuaXRpemVGaWxlTmFtZSgKICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS50ZXh0Q29udGVudAogICAgICAgICAgICAgICAgICAgIC5zcGxpdCgvXHMvZykKICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChzKSA9PiBzKQogICAgICAgICAgICAgICAgICAgIC5qb2luKCJfIikgKyAiXyIKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNhbml0aXplRmlsZU5hbWUoZG9jdW1lbnQudGl0bGUuc3BsaXQoInwiKVswXSArICJfIik7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RmlsZW5hbWVGcm9tVmlkZW9VcmwodXJsKSB7CiAgICAgICAgbGV0IHRlbXBOYW1lID0gdXJsLnJlcGxhY2UoIi9yb290LW1lc3NhZ2UtY3hmLWFwYWNoZSIsICIiKTsKICAgICAgICB0ZW1wTmFtZSA9IHRlbXBOYW1lCiAgICAgICAgICAgIC5zdWJzdHJpbmcodGVtcE5hbWUubGFzdEluZGV4T2YoIi8iKSArIDEpCiAgICAgICAgICAgIC5yZXBsYWNlKCIubTN1OCIsICIudHMiKTsKICAgICAgICByZXR1cm4gdGVtcE5hbWU7CiAgICB9CgogICAgZnVuY3Rpb24gc2FuaXRpemVGaWxlTmFtZShpbnB1dCwgcmVwbGFjZW1lbnQgPSAiXyIpIHsKICAgICAgICAvLyBUaGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BhcnNoYXAvbm9kZS1zYW5pdGl6ZS1maWxlbmFtZS9ibG9iL21hc3Rlci9pbmRleC5qcwogICAgICAgIGNvbnN0IGlsbGVnYWxSZSA9IC9bXC9cPzw+XFw6XCpcfCJdL2c7CiAgICAgICAgY29uc3QgY29udHJvbFJlID0gL1tceDAwLVx4MWZceDgwLVx4OWZdL2c7CiAgICAgICAgY29uc3QgcmVzZXJ2ZWRSZSA9IC9eXC4rJC87CiAgICAgICAgY29uc3Qgd2luZG93c1Jlc2VydmVkUmUgPSAvXihjb258cHJufGF1eHxudWx8Y29tWzAtOV18bHB0WzAtOV0pKFwuLiopPyQvaTsKICAgICAgICBjb25zdCB3aW5kb3dzVHJhaWxpbmdSZSA9IC9bXC4gXSskLzsKICAgICAgICByZXR1cm4gaW5wdXQKICAgICAgICAgICAgLnJlcGxhY2UoaWxsZWdhbFJlLCByZXBsYWNlbWVudCkKICAgICAgICAgICAgLnJlcGxhY2UoY29udHJvbFJlLCByZXBsYWNlbWVudCkKICAgICAgICAgICAgLnJlcGxhY2UocmVzZXJ2ZWRSZSwgcmVwbGFjZW1lbnQpCiAgICAgICAgICAgIC5yZXBsYWNlKHdpbmRvd3NSZXNlcnZlZFJlLCByZXBsYWNlbWVudCkKICAgICAgICAgICAgLnJlcGxhY2Uod2luZG93c1RyYWlsaW5nUmUsIHJlcGxhY2VtZW50KTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gPSAgICBMb2dnaW5nIFV0aWxzICAgID0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09CgogICAgZnVuY3Rpb24gbW9Eb3dubG9hZGVyTG9nKG1zZykgewogICAgICAgIGNvbnNvbGUubG9nKCJbbW8tZG93bmxvZGVyXSAiICsgbXNnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtb0Rvd25sb2FkZXJEZWJ1Zyhtc2cpIHsKICAgICAgICBjb25zb2xlLmRlYnVnKCJbbW8tZG93bmxvZGVyXSAiICsgbXNnKTsKICAgIH0KfSkoKTsK"
}