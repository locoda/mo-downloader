{
  "match": 0,
  "info": "mo\u4e0b\u8f7d\u5668",
  "regex": "m.tribe-m.jp@@m.ex-m.jp@@m.ldh-m.jp@@m.ldhgirls-m.jp",
  "runat": 0,
  "version": "0.23",
  "author": "\u4e59\u919a",
  "name": "mo\u4e0b\u8f7d\u5668",
  "code": "Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgbW8gKExESCkg5LiL6L295ZmoCi8vIEBuYW1lc3BhY2UgICAgICAgICAgIGh0dHBzOi8vMW1ldGhlci5tZS8KLy8gQHZlcnNpb24gICAgICAgICAgICAgMC4yMwovLyBAZGVzY3JpcHRpb24gICAgICAgICDlnKhtb+eahOWGheWuuemhteWinuWKoOWbvueJh+WSjOinhumikeS4i+i9veeahOaMiemSru+8jCDop6PplIHlj7PplK7lip/og70KLy8gQGF1dGhvciAgICAgICAgICAgICAg5LmZ6YaaKEBsb2NvZGEpCi8vIEBtYXRjaCAgICAgICAgICAgICAgIGh0dHAqOi8vbS50cmliZS1tLmpwLyoKLy8gQG1hdGNoICAgICAgICAgICAgICAgaHR0cCo6Ly9tLmV4LW0uanAvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICBodHRwKjovL20ubGRoLW0uanAvKgovLyBAbWF0Y2ggICAgICAgICAgICAgICBodHRwKjovL20ubGRoZ2lybHMtbS5qcC8qCi8vIEBpY29uICAgICAgICAgICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPWxkaC5jby5qcAovLyBAc291cmNlICAgICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbG9jb2RhL21vLWRvd25sb2FkZXIKLy8gQHVwZGF0ZVVSTCAgICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xvY29kYS9tby1kb3dubG9hZGVyL3Jhdy9tYWluL21vLWRvd25sb2Rlci51c2VyLmpzCi8vIEBkb3dubG9hZFVSTCAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2NvZGEvbW8tZG93bmxvYWRlci9yYXcvbWFpbi9tby1kb3dubG9kZXIudXNlci5qcwovLyBAbGljZW5zZSAgICAgICAgICAgICBNSVQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gKCkgewogICAgInVzZSBzdHJpY3QiOwogICAgLy8g5Yig6Zmk5Zu+54mH5L+d5oqkCiAgICByZW1vdmVQcm90ZWN0SW1nKCk7CiAgICAvLyDlnKjor6bmg4XpobXms6jlhaXmjInpkq4KICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygiZGV0YWlsIikpIHsKICAgICAgICBpbmplY3REb3dubG9hZEFsbEJ1dHRvbnMoKTsKICAgIH0KICAgIC8vIOagueaNruinhumikeazqOWFpeaMiemSrgogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJtb3ZpZSIpKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi5saW1lbGlnaHQtcGxheWVyIikpIHsKICAgICAgICAgICAgaW5qZWN0UGVyVmlkZW9Eb3dubG9hZEJ1dHRvbihkb2N1bWVudCk7CiAgICAgICAgfQogICAgfQogICAgLy8g5Zyo5pe26Ze06L2055WM6Z2i6K6+572uTGlzdGVuZXIKICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygidGltZWxpbmUiKSkgewogICAgICAgIC8vIOetieW+heWKoOi9vXNjcm9sbAogICAgICAgIChmdW5jdGlvbiBpbml0KCkgewogICAgICAgICAgICB2YXIgY291bnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxkaC1pbmZpbml0ZS1zY3JvbGwiKTsKICAgICAgICAgICAgaWYgKGNvdW50ZXIpIHsKICAgICAgICAgICAgICAgIGN1c3RvbWl6ZWRUaW1lbGluZVBhZ2UoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoaW5pdCwgMzAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0pKCk7CiAgICB9Cn0pKCk7CgpmdW5jdGlvbiByZW1vdmVQcm90ZWN0SW1nKCkgewogICAgLy8g56e76Zmk5Y+z6ZSu6ZmQ5Yi2CiAgICBkb2N1bWVudC5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfTsKICAgIC8vIOenu+mZpHByb3RlY3RpbWfpmZDliLYKICAgIGRvY3VtZW50CiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoIi5wcm90ZWN0aW1nIikKICAgICAgICAuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCJwcm90ZWN0aW1nIikpOwp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyA9ICAgIEJ1dHRvbiBJbmplY3Rpb24gVXRpbHMgICAgPQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZnVuY3Rpb24gaW5qZWN0RG93bmxvYWRBbGxCdXR0b25zKCkgewogICAgdmFyIGFydGljbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJhcnRpY2xlIik7CiAgICBpZiAoYXJ0aWNsZS5jbGFzc0xpc3QuY29udGFpbnMoImFydGljbGUtLW5ld3MiKSkgewogICAgICAgIC8vIOaWsOmXu+mhtemdoueJueauiuWkhOeQhgogICAgICAgIGFydGljbGUgPSBhcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoIi5hcnRpY2xlX19ib2R5Iik7CiAgICB9CiAgICBhdHRhY2hCdXR0b25Ub0FydGljbGUoYXJ0aWNsZSk7Cn0KCmZ1bmN0aW9uIGZpbmRFbGlnaWJsZUltZ3MoYXJ0aWNsZSkgewogICAgY29uc3Qga2V5d29yZHMgPSBbInVwbGNtbiIsICJ1cGxvYWQiXTsKICAgIHJldHVybiBBcnJheS5mcm9tKGFydGljbGUucXVlcnlTZWxlY3RvckFsbCgiaW1nIikpCiAgICAgICAgLm1hcCgoaW1nKSA9PiBpbWcuc3JjKQogICAgICAgIC5maWx0ZXIoKGltZykgPT4ga2V5d29yZHMuc29tZSgoaykgPT4gaW1nLmluY2x1ZGVzKGspKSk7Cn0KCmZ1bmN0aW9uIGF0dGFjaEJ1dHRvblRvQXJ0aWNsZShhcnRpY2xlKSB7CiAgICB2YXIgaW1ncyA9IGZpbmRFbGlnaWJsZUltZ3MoYXJ0aWNsZSk7CiAgICAvLyDms6jlhaXmjInpkq4gZGl2CiAgICB2YXIgYnV0dG9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgYnV0dG9uc0Rpdi5jbGFzc05hbWUgPSAibGRoLW1vLWRsIjsKICAgIGJ1dHRvbnNEaXYuc3R5bGUgPSAibWFyZ2luLXRvcDogMC40ZW07IG1hcmdpbi1ib3R0b206IDAuNGVtOyI7CiAgICBhcnRpY2xlLmluc2VydEJlZm9yZShidXR0b25zRGl2LCBhcnRpY2xlLmZpcnN0Q2hpbGQpOwogICAgLy8g5Zu+54mH6ZO+5o6l55Sf5oiQ5oyJ6ZKuCiAgICBjb25zdCBpc01vYmlsZSA9ICgpID0+CiAgICAgICAgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KAogICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50CiAgICAgICAgKTsKICAgIGlmIChpc01vYmlsZSgpKSB7CiAgICAgICAgaW5qZWN0T25lQnV0dG9uKGJ1dHRvbnNEaXYsICLnlJ/miJDlm77niYfpk77mjqUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGdlbmVyYXRlT25DbGlja0hhbmRsZXIoYnV0dG9uc0RpdiwgYXJ0aWNsZSk7CiAgICAgICAgfSk7CiAgICB9CiAgICAvLyDlm77niYfkuIvovb3mjInpkq4KICAgIGluamVjdE9uZUJ1dHRvbigKICAgICAgICBidXR0b25zRGl2LAogICAgICAgICLkuIvovb3miYDmnInlm77niYcgKCIgKyBpbWdzLmxlbmd0aCArICIpIiwKICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRvd25sb2FkT25DbGlja0hhbmRsZXIoYXJ0aWNsZSk7CiAgICAgICAgfQogICAgKTsKICAgIC8vIOinhumikeS4i+i9veaMiemSrgogICAgaWYgKGFydGljbGUucXVlcnlTZWxlY3RvcigiZGl2LmxpbWVsaWdodC1wbGF5ZXIiKSkgewogICAgICAgIGluamVjdE9uZUJ1dHRvbihidXR0b25zRGl2LCAi5LiL6L295omA5pyJ6KeG6aKRIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb3dubG9hZFZpZGVvT25DbGlja0hhbmRsZXIoYXJ0aWNsZSk7CiAgICAgICAgfSk7CiAgICAgICAgaW5qZWN0UGVyVmlkZW9Eb3dubG9hZEJ1dHRvbihhcnRpY2xlKTsKICAgIH0KfQoKZnVuY3Rpb24gaW5qZWN0UGVyVmlkZW9Eb3dubG9hZEJ1dHRvbihkaXYpIHsKICAgIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJkaXYubGltZWxpZ2h0LXBsYXllciIpLmZvckVhY2goKHZpZGVvRGl2KSA9PiB7CiAgICAgICAgdmFyIG1lZGlhSWQgPSB2aWRlb0Rpdi5pZC5zdWJzdHJpbmcodmlkZW9EaXYuaWQubGFzdEluZGV4T2YoIl8iKSArIDEpOwogICAgICAgIGluamVjdE9uZUJ1dHRvbih2aWRlb0Rpdi5wYXJlbnRFbGVtZW50LCAi5LiL6L296L+Z5Liq6KeG6aKRIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb3dubG9hZFZpZGVvKG1lZGlhSWQpOwogICAgICAgIH0pOwogICAgfSk7Cn0KCmZ1bmN0aW9uIGluamVjdE9uZUJ1dHRvbihlbGVtZW50LCB0ZXh0T25CdXR0b24sIGNsaWNrTGlzdGVuZXIpIHsKICAgIHZhciBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJCVVRUT04iKTsKICAgIHZhciBidG5UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dE9uQnV0dG9uKTsKICAgIGJ0bi5hcHBlbmRDaGlsZChidG5UZXh0KTsKICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGNsaWNrTGlzdGVuZXIpOwogICAgYnRuLnN0eWxlID0KICAgICAgICAiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IGJvcmRlcjogc29saWQgIzgwODA4MCAycHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGNvbG9yOiAjNTQ1NDU0OyBtYXJnaW46IDAuMmVtIjsKICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnRuKTsKfQoKZnVuY3Rpb24gZG93bmxvYWRPbkNsaWNrSGFuZGxlcihhcnRpY2xlKSB7CiAgICBkb3dubG9hZEltYWdlcyhmaW5kRWxpZ2libGVJbWdzKGFydGljbGUpLCBnZXRQcmVmaXhGcm9tQXJ0aWNsZShhcnRpY2xlKSk7Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlT25DbGlja0hhbmRsZXIoYnV0dG9uc0RpdiwgYXJ0aWNsZSkgewogICAgdmFyIGltZ3MgPSBmaW5kRWxpZ2libGVJbWdzKGFydGljbGUpOwogICAgdmFyIHRleHRhcmVhID0gYnV0dG9uc0Rpdi5xdWVyeVNlbGVjdG9yKCJ0ZXh0YXJlYS5sZGgtbW8tZGwiKTsKICAgIGlmICghdGV4dGFyZWEpIHsKICAgICAgICB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgdGV4dGFyZWEuY2xhc3NOYW1lID0gImxkaC1tby1kbCI7CiAgICAgICAgdGV4dGFyZWEuc3R5bGUgPSAiaGVpZ2h0OiAxMDBweDsgd2lkdGg6IDgwJTsiOwogICAgICAgIHZhciBiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgYnV0dG9uc0Rpdi5pbnNlcnRCZWZvcmUoYnIsIGJ1dHRvbnNEaXYuZmlyc3RDaGlsZCk7CiAgICAgICAgYnV0dG9uc0Rpdi5pbnNlcnRCZWZvcmUodGV4dGFyZWEsIGJ1dHRvbnNEaXYuZmlyc3RDaGlsZCk7CiAgICB9CiAgICB0ZXh0YXJlYS52YWx1ZSA9IGltZ3Muam9pbigiXG4iKTsKICAgIHRleHRhcmVhLnNlbGVjdCgpOwp9CgpmdW5jdGlvbiBkb3dubG9hZFZpZGVvT25DbGlja0hhbmRsZXIoYXJ0aWNsZSkgewogICAgdmFyIGVsZW1zID0gYXJ0aWNsZS5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHQiKTsKICAgIHZhciB2aWRlb3MgPSBBcnJheS5mcm9tKGVsZW1zKQogICAgICAgIC5maWx0ZXIoCiAgICAgICAgICAgICh2KSA9PgogICAgICAgICAgICAgICAgdi50ZXh0Q29udGVudC5pbmNsdWRlcygibWVkaWFJZCIpICYmCiAgICAgICAgICAgICAgICAhdi50ZXh0Q29udGVudC5pbmNsdWRlcygiYmxvZ1RhbGtEYXRhIikKICAgICAgICApCiAgICAgICAgLm1hcCgKICAgICAgICAgICAgKHYpID0+CiAgICAgICAgICAgICAgICBKU09OLnBhcnNlKAogICAgICAgICAgICAgICAgICAgIHYudGV4dENvbnRlbnQuc3Vic3RyaW5nKAogICAgICAgICAgICAgICAgICAgICAgICB2LnRleHRDb250ZW50LmluZGV4T2YoIigiKSArIDEsCiAgICAgICAgICAgICAgICAgICAgICAgIHYudGV4dENvbnRlbnQubGFzdEluZGV4T2YoIikiKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkubWVkaWFJZAogICAgICAgICk7CgogICAgdmlkZW9zLm1hcCgodmlkZW8pID0+IGRvd25sb2FkVmlkZW8odmlkZW8sIGdldFByZWZpeEZyb21BcnRpY2xlKGFydGljbGUpKSk7Cn0KCmZ1bmN0aW9uIGN1c3RvbWl6ZWRUaW1lbGluZVBhZ2UoKSB7CiAgICAvLyDliJ3lp4vljJYKICAgIGRvY3VtZW50CiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoImxkaC1pbmZpbml0ZS1zY3JvbGwgYXJ0aWNsZSIpCiAgICAgICAgLmZvckVhY2goKGFydGljbGUpID0+IGF0dGFjaEJ1dHRvblRvQXJ0aWNsZShhcnRpY2xlKSk7CiAgICAvLwogICAgY29uc3QgaW5maW5pdGVTY3JvbGxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJsZGgtaW5maW5pdGUtc2Nyb2xsIik7CiAgICBjb25zdCBjb25maWcgPSB7IGNoaWxkTGlzdDogdHJ1ZSB9OwogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zLCBvYnNlcnZlcikgewogICAgICAgIHZhciBub2RlcyA9IG11dGF0aW9ucy5maW5kKChyKSA9PgogICAgICAgICAgICBBcnJheS5mcm9tKHIuYWRkZWROb2RlcykuZmlsdGVyKChuKSA9PiAobi5jbGFzc05hbWUgPSAiYXJ0aWNsZSIpKQogICAgICAgICkuYWRkZWROb2RlczsKICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PgogICAgICAgICAgICBhdHRhY2hCdXR0b25Ub0FydGljbGUobm9kZS5xdWVyeVNlbGVjdG9yKCJhcnRpY2xlIikpCiAgICAgICAgKTsKICAgICAgICByZW1vdmVQcm90ZWN0SW1nKCk7CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUoaW5maW5pdGVTY3JvbGxDb250YWluZXIsIGNvbmZpZyk7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PQovLyA9ICAgIERvd25sb2FkIFV0aWxzICAgID0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09CgpmdW5jdGlvbiBkb3dubG9hZEltYWdlcyhpbWdzLCBwcmVmaXggPSAiIikgewogICAgLy8gVGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS95MjUyMzI4L0luc3RhZ3JhbV9Eb3dubG9hZF9CdXR0b24KICAgIGltZ3MubWFwKChpbWcpID0+CiAgICAgICAgZmV0Y2goaW1nLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsKICAgICAgICAgICAgICAgIE9yaWdpbjogd2luZG93LmxvY2F0aW9uLm9yaWdpbiwKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIG1vZGU6ICJjb3JzIiwKICAgICAgICAgICAgY2FjaGU6ICJuby1jYWNoZSIsCiAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ibG9iKCkpCiAgICAgICAgICAgIC50aGVuKChibG9iKSA9PgogICAgICAgICAgICAgICAgZG93bG9hZEJsb2IoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksCiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICsgaW1nLnN1YnN0cmluZyhpbWcubGFzdEluZGV4T2YoIi8iKSArIDEpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmVycm9yKGUpKQogICAgKTsKfQoKZnVuY3Rpb24gZG93bmxvYWRWaWRlbyh2aWRlbywgcHJlZml4ID0gIiIpIHsKICAgIGNvbnN0IHZpZGVvUmVxdWVzdFVSTCA9CiAgICAgICAgImh0dHBzOi8vcHJvZHVjdGlvbi1wcy5sdnAubGxudy5uZXQvci9QbGF5bGlzdFNlcnZpY2UvbWVkaWEvPG1lZGlhSWQ+L2dldE1vYmlsZVBsYXlsaXN0QnlNZWRpYUlkIjsKICAgIGZldGNoKHZpZGVvUmVxdWVzdFVSTC5yZXBsYWNlKCI8bWVkaWFJZD4iLCB2aWRlbyksIHsKICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7CiAgICAgICAgICAgIE9yaWdpbjogd2luZG93LmxvY2F0aW9uLm9yaWdpbiwKICAgICAgICAgICAgUmVmZXJlcjogd2luZG93LmxvY2F0aW9uLm9yaWdpbiwKICAgICAgICB9KSwKICAgICAgICBtb2RlOiAiY29ycyIsCiAgICAgICAgY2FjaGU6ICJuby1jYWNoZSIsCiAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgIC50aGVuKAogICAgICAgICAgICAocmVzcG9uc2UpID0+CiAgICAgICAgICAgICAgICByZXNwb25zZS5tZWRpYUxpc3RbMF0ubW9iaWxlVXJscy5maWx0ZXIoCiAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYudGFyZ2V0TWVkaWFQbGF0Zm9ybSA9PSAiTW9iaWxlSDI2NCIKICAgICAgICAgICAgICAgIClbMF0ubW9iaWxlVXJsCiAgICAgICAgKQogICAgICAgIC50aGVuKChtb2JpbGVVcmwpID0+CiAgICAgICAgICAgIGZldGNoKG1vYmlsZVVybC5yZXBsYWNlKCJodHRwOi8vIiwgImh0dHBzOi8vIikpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJsb2IoKSkKICAgICAgICAgICAgICAgIC50aGVuKChibG9iKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBOYW1lID0gbW9iaWxlVXJsLnJlcGxhY2UoIi9yb290LW1lc3NhZ2UtY3hmLWFwYWNoZSIsICIiKTsKICAgICAgICAgICAgICAgICAgICBkb3dsb2FkQmxvYigKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCArIHRlbXBOYW1lLnN1YnN0cmluZyh0ZW1wTmFtZS5sYXN0SW5kZXhPZigiLyIpICsgMSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcihlKSkKICAgICAgICApOwp9CgpmdW5jdGlvbiBkb3dsb2FkQmxvYihibG9iLCBmaWxlbmFtZSkgewogICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICBhLmhyZWYgPSBibG9iOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgIGEuY2xpY2soKTsKICAgIGEucmVtb3ZlKCk7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT0KLy8gPSAgICBOYW1pbmcgVXRpbHMgICAgPQovLyA9PT09PT09PT09PT09PT09PT09PT09CgpmdW5jdGlvbiBnZXRQcmVmaXhGcm9tQXJ0aWNsZShhcnRpY2xlKSB7CiAgICB2YXIgY2FuZGlkYXRlID0KICAgICAgICBhcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoIi5hcnRpY2xlX19oZWFkIikgfHwKICAgICAgICBhcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoIi5hcnRpY2xlX19oZWFkZXIiKTsKICAgIGlmIChjYW5kaWRhdGUpIHsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBjYW5kaWRhdGUudGV4dENvbnRlbnQKICAgICAgICAgICAgICAgIC5zcGxpdCgvXHMvZykKICAgICAgICAgICAgICAgIC5maWx0ZXIoKHMpID0+IHMpCiAgICAgICAgICAgICAgICAuam9pbigiXyIpICsgIl8iCiAgICAgICAgKTsKICAgIH0KICAgIHJldHVybiAiIjsKfQoKZnVuY3Rpb24gc2FuaXRpemVGaWxlTmFtZShpbnB1dCwgcmVwbGFjZW1lbnQgPSAiXyIpIHsKICAgIGNvbnN0IGlsbGVnYWxSZSA9IC9bXC9cPzw+XFw6XCpcfCJdL2c7CiAgICBjb25zdCBjb250cm9sUmUgPSAvW1x4MDAtXHgxZlx4ODAtXHg5Zl0vZzsKICAgIGNvbnN0IHJlc2VydmVkUmUgPSAvXlwuKyQvOwogICAgY29uc3Qgd2luZG93c1Jlc2VydmVkUmUgPSAvXihjb258cHJufGF1eHxudWx8Y29tWzAtOV18bHB0WzAtOV0pKFwuLiopPyQvaTsKICAgIGNvbnN0IHdpbmRvd3NUcmFpbGluZ1JlID0gL1tcLiBdKyQvOwogICAgcmV0dXJuIGlucHV0CiAgICAgICAgLnJlcGxhY2UoaWxsZWdhbFJlLCByZXBsYWNlbWVudCkKICAgICAgICAucmVwbGFjZShjb250cm9sUmUsIHJlcGxhY2VtZW50KQogICAgICAgIC5yZXBsYWNlKHJlc2VydmVkUmUsIHJlcGxhY2VtZW50KQogICAgICAgIC5yZXBsYWNlKHdpbmRvd3NSZXNlcnZlZFJlLCByZXBsYWNlbWVudCkKICAgICAgICAucmVwbGFjZSh3aW5kb3dzVHJhaWxpbmdSZSwgcmVwbGFjZW1lbnQpOwp9Cg=="
}